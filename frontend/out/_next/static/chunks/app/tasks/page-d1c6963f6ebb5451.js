(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{5914:function(e,t,r){Promise.resolve().then(r.bind(r,4004))},4004:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(7437),a=r(9376),o=r(2265),n=r(6712),l=r(5573);let i=e=>{let{message:t,onClose:r}=e;return t?(0,s.jsx)("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0 pt-0.5",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3 flex-1 min-w-0",children:(0,s.jsx)("h3",{className:"text-sm font-medium text-green-800 break-words",children:t})}),r&&(0,s.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,s.jsxs)("button",{type:"button",className:"inline-flex rounded-md bg-green-50 p-1.5 text-green-500 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2",onClick:r,children:[(0,s.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})})]})}):null},d=e=>{let{onTaskCreated:t}=e,[r,a]=(0,o.useState)(""),[d,c]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[h,g]=(0,o.useState)("medium"),[x,p]=(0,o.useState)(""),[f,j]=(0,o.useState)(""),[y,b]=(0,o.useState)(""),[v,w]=(0,o.useState)(""),[k,N]=(0,o.useState)(""),[S,T]=(0,o.useState)(!1),C=async e=>{if(e.preventDefault(),w(""),N(""),!r.trim()){w("Title is required");return}if(r.trim().length>200){w("Title must be 200 characters or less");return}if(d.trim().length>1e3){w("Description must be 1000 characters or less");return}if(x.trim().length>200){w("Tags must be 200 characters or less");return}T(!0),w("");try{await t({title:r.trim(),description:d.trim(),completed:!1,due_date:u||void 0,priority:h,tags:x.trim()||void 0,recurrence_rule:f||void 0,recurrence_end_date:y||void 0}),a(""),c(""),m(""),g("medium"),p(""),j(""),b("")}catch(e){w(e instanceof Error?e.message:"Failed to create task")}finally{T(!1)}};return(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Task"}),(0,s.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,s.jsx)(i,{message:k,onClose:()=>N("")}),(0,s.jsx)(n.X,{error:v,onClose:()=>w("")}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,s.jsx)("input",{type:"text",id:"title",value:r,onChange:e=>a(e.target.value),className:"form-input w-full",placeholder:"What needs to be done?",maxLength:200})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),(0,s.jsx)("textarea",{id:"description",value:d,onChange:e=>c(e.target.value),rows:3,className:"form-input w-full",placeholder:"Add details...",maxLength:1e3})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date (Optional)"}),(0,s.jsx)("input",{type:"datetime-local",id:"dueDate",value:u,onChange:e=>m(e.target.value),className:"form-input w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,s.jsxs)("select",{id:"priority",value:h,onChange:e=>g(e.target.value),className:"form-input w-full",children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated, optional)"}),(0,s.jsx)("input",{type:"text",id:"tags",value:x,onChange:e=>p(e.target.value),className:"form-input w-full",placeholder:"work, personal, urgent...",maxLength:200})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"recurrenceRule",className:"block text-sm font-medium text-gray-700 mb-1",children:"Recurrence (Optional)"}),(0,s.jsxs)("select",{id:"recurrenceRule",value:f,onChange:e=>j(e.target.value),className:"form-input w-full",children:[(0,s.jsx)("option",{value:"",children:"None"}),(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",children:"Monthly"}),(0,s.jsx)("option",{value:"yearly",children:"Yearly"})]})]})]}),f&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"recurrenceEndDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Recurrence End Date (Optional)"}),(0,s.jsx)("input",{type:"date",id:"recurrenceEndDate",value:y,onChange:e=>b(e.target.value),className:"form-input w-full"})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:S,className:"btn-primary w-full flex items-center justify-center",children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.T,{size:"sm"}),(0,s.jsx)("span",{className:"ml-2",children:"Creating..."})]}):"Add Task"})})]})]})};class c{static handle(e,t){let r,s,a="An unexpected error occurred";return e instanceof Error?(a=e.message,"TypeError"===e.name&&e.message.includes("fetch")&&(a="Network error. Please check your connection and try again.")):"object"==typeof e&&null!==e?(e.status&&(r=e.status,a=this.getMessageFromStatus(e.status)),e.detail?a="string"==typeof e.detail?e.detail:JSON.stringify(e.detail):e.message&&(a=e.message),s=e):"string"==typeof e&&(a=e),t&&(a="".concat(t,": ").concat(a)),{message:a,status:r,details:s}}static getMessageFromStatus(e){switch(e){case 400:return"Bad request. Please check your input and try again.";case 401:return"Unauthorized. Please log in to continue.";case 403:return"Forbidden. You do not have permission to perform this action.";case 404:return"Resource not found.";case 409:return"Conflict. The resource already exists.";case 422:return"Unprocessable entity. Please check your input and try again.";case 429:return"Too many requests. Please try again later.";case 500:return"Internal server error. Please try again later.";case 502:return"Bad gateway. Please try again later.";case 503:return"Service unavailable. Please try again later.";default:return"Error ".concat(e,". Please try again.")}}static logError(e,t){console.error("Error:",this.handle(e,t))}static isNetworkError(e){return e instanceof Error&&"TypeError"===e.name&&e.message.includes("fetch")}static isAuthError(e){return"object"==typeof e&&!!e.status&&401===e.status}}let u={async getAll(e){let t=localStorage.getItem("auth_token");if(!t)throw Error("No authentication token found");let r="".concat("http://localhost:8001","/tasks");e&&(r+="?"+e),console.log("Making request to:",r),console.log("Using token (first 20 chars):",t.substring(0,20)+"...");let s=await fetch(r,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!s.ok){let e=s.headers.get("content-type");if(console.log("Response status:",s.status,s.statusText),console.log("Content-Type:",e),e&&e.includes("application/json")){let e=await s.json();throw console.log("JSON error response:",e),Error(e.detail||"Failed to fetch tasks")}throw console.log("Non-JSON error response:",await s.text()),Error("Failed to fetch tasks: ".concat(s.status," ").concat(s.statusText))}let a=s.headers.get("content-type");if(console.log("Success response Content-Type:",a),a&&a.includes("application/json"))try{let e=await s.json();return console.log("Successfully fetched tasks:",e),e}catch(e){throw console.error("JSON parsing error:",e),Error("Response is not valid JSON: ".concat(s.status," ").concat(s.statusText))}else throw console.log("Non-JSON success response:",await s.text()),Error("Response is not valid JSON: ".concat(s.status," ").concat(s.statusText))},async create(e){var t;let r=localStorage.getItem("auth_token");if(!r)throw Error("No authentication token found");let s=await fetch("".concat("http://localhost:8001","/tasks"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({...e,completed:null!==(t=e.completed)&&void 0!==t&&t})});if(!s.ok){let e=s.headers.get("content-type");if(e&&e.includes("application/json"))throw Error((await s.json()).detail||"Failed to create task");throw Error("Failed to create task: ".concat(s.status," ").concat(s.statusText))}try{return await s.json()}catch(e){throw Error("Response is not valid JSON: ".concat(s.status," ").concat(s.statusText))}},async update(e,t){let r=localStorage.getItem("auth_token");if(!r)throw Error("No authentication token found");let s=await fetch("".concat("http://localhost:8001","/tasks/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)});if(!s.ok){let e=s.headers.get("content-type");if(e&&e.includes("application/json"))throw Error((await s.json()).detail||"Failed to update task");throw Error("Failed to update task: ".concat(s.status," ").concat(s.statusText))}try{return await s.json()}catch(e){throw Error("Response is not valid JSON: ".concat(s.status," ").concat(s.statusText))}},async delete(e){let t=localStorage.getItem("auth_token");if(!t)throw Error("No authentication token found");let r=await fetch("".concat("http://localhost:8001","/tasks/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok){let e=r.headers.get("content-type");if(e&&e.includes("application/json"))throw Error((await r.json()).detail||"Failed to delete task");throw Error("Failed to delete task: ".concat(r.status," ").concat(r.statusText))}},async toggleCompletion(e,t){let r=localStorage.getItem("auth_token");if(!r)throw Error("No authentication token found");let s=await fetch("".concat("http://localhost:8001","/tasks/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({completed:!t})});if(!s.ok){let e=s.headers.get("content-type");if(e&&e.includes("application/json"))throw Error((await s.json()).detail||"Failed to update task");throw Error("Failed to update task: ".concat(s.status," ").concat(s.statusText))}try{return await s.json()}catch(e){throw Error("Response is not valid JSON: ".concat(s.status," ").concat(s.statusText))}}};var m=r(1902);function h(){let[e,t]=(0,o.useState)([]),[r,h]=(0,o.useState)(!0),[g,x]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[j,y]=(0,o.useState)(!1),[b,v]=(0,o.useState)(null),[w,k]=(0,o.useState)(""),[N,S]=(0,o.useState)(""),[T,C]=(0,o.useState)(""),[E,D]=(0,o.useState)("all"),[_,L]=(0,o.useState)("created_at"),[F,M]=(0,o.useState)("desc"),O=(0,a.useRouter)();(0,o.useEffect)(()=>{if(!localStorage.getItem("auth_token")){O.push("/login");return}B()},[O,T,E,_,F]);let B=async()=>{try{h(!0);let e=new URLSearchParams;T&&e.append("search",T),"all"!==E&&e.append("filter_by",E),_&&e.append("sort_by",_),e.append("sort_order",F);let r=await u.getAll(e.toString());t(r)}catch(e){if(e.message&&e.message.includes("401")){localStorage.removeItem("auth_token"),localStorage.removeItem("user"),document.cookie="auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict",O.push("/login");return}x(c.handle(e,"Failed to fetch tasks").message),c.logError(e,"Fetch tasks error")}finally{h(!1)}},A=async r=>{let s=-Date.now();t([{id:s,...r,user_id:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...e]);try{let e=await u.create(r);t(t=>t.map(t=>t.id===s?e:t)),f("Task created successfully!"),setTimeout(()=>f(""),3e3)}catch(e){throw x(c.handle(e,"Failed to create task").message),t(e=>e.filter(e=>e.id!==s)),c.logError(e,"Task creation error"),e}},P=async r=>{let s=e.find(e=>e.id===r);if(s){t(e=>e.filter(e=>e.id!==r));try{await u.delete(r),f("Task deleted successfully!"),setTimeout(()=>f(""),3e3)}catch(e){x(c.handle(e,"Failed to delete task").message),t(e=>[...e,s]),c.logError(e,"Task deletion error")}}},z=async(e,r)=>{t(t=>t.map(t=>t.id===e?{...t,completed:!r}:t));try{let s=await u.toggleCompletion(e,r);t(t=>t.map(t=>t.id===e?s:t)),f("Task ".concat(r?"marked as incomplete":"completed"," successfully!")),setTimeout(()=>f(""),3e3)}catch(s){x(c.handle(s,"Failed to update task").message),t(t=>t.map(t=>t.id===e?{...t,completed:r}:t)),c.logError(s,"Task completion update error")}},I=e=>{v(e.id),k(e.title),S(e.description)},R=()=>{v(null),k(""),S("")},J=async e=>{if(!w.trim()){x("Title is required");return}if(w.trim().length>200){x("Title must be 200 characters or less");return}if(N.trim().length>1e3){x("Description must be 1000 characters or less");return}try{let r=await fetch("".concat("http://localhost:8001","/tasks/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))},body:JSON.stringify({title:w.trim(),description:N.trim()})});if(r.ok){let s=await r.json();t(t=>t.map(t=>t.id===e?s:t)),f("Task updated successfully!"),R(),setTimeout(()=>f(""),3e3)}else{let e=await r.json(),t=c.handle(e,"Failed to update task");x(t.message),c.logError(e,"Task update error")}}catch(e){x(c.handle(e,"Failed to update task").message),c.logError(e,"Task update error")}},U=async()=>{try{h(!0);let e=await u.getAll();t(e)}catch(e){if(e.message&&e.message.includes("401")){O.push("/login");return}x(c.handle(e,"Failed to refresh tasks").message),c.logError(e,"Refresh tasks error")}finally{h(!1)}};return r?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:(0,s.jsx)("div",{className:"container max-w-4xl mx-auto px-4",children:(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-500"})}),(0,s.jsx)(l.T,{size:"lg",text:"Loading your tasks..."})]})})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-6 sm:py-8",children:(0,s.jsx)("div",{className:"container max-w-4xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Tasks"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your tasks efficiently and stay organized"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600 bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 rounded-lg border border-gray-200",children:[(0,s.jsx)("span",{className:"font-medium",children:"User ID:"})," ",(()=>{let e=localStorage.getItem("auth_token");if(e)try{return JSON.parse(atob(e.split(".")[1])).sub||"Unknown"}catch(e){return"Unknown"}return"Not logged in"})()]}),(0,s.jsx)("button",{onClick:()=>y(!j),className:"px-4 py-2 text-sm rounded-lg font-medium transition-all duration-200 ".concat(j?"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 shadow-md":"bg-gradient-to-r from-indigo-500 to-purple-500 text-white hover:from-indigo-600 hover:to-purple-600 shadow-md"),children:j?"Hide AI Assistant":"Show AI Assistant"}),(0,s.jsx)("button",{onClick:()=>{let e=localStorage.getItem("auth_token");localStorage.removeItem("auth_token"),document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",O.push("/login"),e&&fetch("".concat("http://localhost:8001","/auth/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).catch(()=>{})},className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white px-4 py-2 text-sm rounded-lg font-medium hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md",children:"Logout"})]})]}),(0,s.jsx)(i,{message:p,onClose:()=>f("")}),(0,s.jsx)(n.X,{error:g,onClose:()=>x("")}),(0,s.jsx)(d,{onTaskCreated:e=>A(e)}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,s.jsx)("input",{type:"text",id:"search",value:T,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Search tasks..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"filterBy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter"}),(0,s.jsxs)("select",{id:"filterBy",value:E,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"all",children:"All Tasks"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"pending",children:"Pending"}),(0,s.jsx)("option",{value:"high",children:"High Priority"}),(0,s.jsx)("option",{value:"medium",children:"Medium Priority"}),(0,s.jsx)("option",{value:"low",children:"Low Priority"}),(0,s.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"sortBy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,s.jsxs)("select",{id:"sortBy",value:_,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"created_at",children:"Created Date"}),(0,s.jsx)("option",{value:"due_date",children:"Due Date"}),(0,s.jsx)("option",{value:"priority",children:"Priority"}),(0,s.jsx)("option",{value:"title",children:"Title"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"sortOrder",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),(0,s.jsxs)("select",{id:"sortOrder",value:F,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"desc",children:"Descending"}),(0,s.jsx)("option",{value:"asc",children:"Ascending"})]})]})]})}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Task List"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Your tasks are organized in a beautiful list view"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-700 bg-gradient-to-r from-blue-100 to-indigo-100 px-3 py-2 rounded-lg border border-gray-200",children:[e.length," ",1===e.length?"task":"tasks"]}),(0,s.jsxs)("span",{className:"text-sm font-medium text-green-700 bg-green-100 px-3 py-2 rounded-lg border border-green-200",children:[e.filter(e=>e.completed).length," completed"]}),(0,s.jsxs)("span",{className:"text-sm font-medium text-yellow-700 bg-yellow-100 px-3 py-2 rounded-lg border border-yellow-200",children:[e.filter(e=>!e.completed).length," pending"]})]})]}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"mx-auto w-24 h-24 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mb-6",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks yet"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:"Get started by creating your first task!"}),(0,s.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 rounded-lg border border-green-200",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Tip: Click the form above to add a new task"]})]}):(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>b===e.id?(0,s.jsx)("div",{className:"p-4 rounded-lg border-l-4 border-l-indigo-500 bg-white shadow-md",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Task title...",autoFocus:!0}),(0,s.jsx)("textarea",{value:N,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",rows:3,placeholder:"Task description..."}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:R,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>J(e.id),className:"px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:"Save"})]})]})},e.id):(0,s.jsx)("div",{className:"p-4 rounded-lg border-l-4 transition-all duration-200 hover:shadow-md ".concat(e.completed?"border-l-green-500 bg-green-50 opacity-80":e.due_date&&new Date(e.due_date)<new Date&&!e.completed?"border-l-red-500 bg-red-50":e.due_date&&new Date(e.due_date).toDateString()===new Date().toDateString()?"border-l-orange-500 bg-orange-50":e.due_date&&new Date(e.due_date)<=new Date(Date.now()+2592e5)&&!e.completed?"border-l-yellow-500 bg-yellow-50":"border-l-indigo-500 bg-white"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[(0,s.jsx)("button",{onClick:()=>z(e.id,e.completed),className:"h-5 w-5 rounded-full border flex items-center justify-center mt-1 flex-shrink-0 ".concat(e.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-indigo-400 hover:bg-indigo-50"),"aria-label":e.completed?"Mark as incomplete":"Mark as complete",children:e.completed&&(0,s.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h3",{className:"font-medium break-words ".concat(e.completed?"line-through text-gray-500":"text-gray-900"),children:e.title}),e.description&&(0,s.jsx)("p",{className:"text-sm mt-1 break-words ".concat(e.completed?"text-gray-400":"text-gray-600"),children:e.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2 text-xs",children:[e.due_date&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full ".concat(new Date(e.due_date)<new Date&&!e.completed?"bg-red-100 text-red-800":new Date(e.due_date).toDateString()===new Date().toDateString()?"bg-orange-100 text-orange-800":new Date(e.due_date)<=new Date(Date.now()+2592e5)&&!e.completed?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:[(0,s.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Due: ",new Date(e.due_date).toLocaleDateString()]}),(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-gray-100 text-gray-800",children:[(0,s.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(e.created_at).toLocaleDateString()]}),e.completed&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-green-100 text-green-800",children:[(0,s.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Completed"]})]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2 ml-4 flex-shrink-0",children:[(0,s.jsx)("button",{onClick:()=>I(e),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium px-2 py-1 rounded hover:bg-indigo-50 transition-colors",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>P(e.id),className:"text-sm text-red-600 hover:text-red-800 font-medium px-2 py-1 rounded hover:bg-red-50 transition-colors",children:"Delete"})]})]})},e.id))})]}),j&&(0,s.jsxs)("div",{className:"mt-10 pt-8 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-6",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 mr-4",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Todo AI Assistant"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Chat with our AI assistant to manage your tasks efficiently"})]})]})}),(0,s.jsx)("div",{className:"h-[500px] bg-white rounded-lg shadow-inner p-4",children:(0,s.jsx)(m.Z,{onTaskOperation:U})})]})]})})})}},6712:function(e,t,r){"use strict";r.d(t,{X:function(){return a}});var s=r(7437);let a=e=>{let{error:t,onClose:r}=e;return t?(0,s.jsx)("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0 pt-0.5",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3 flex-1 min-w-0",children:(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800 break-words",children:t})}),r&&(0,s.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,s.jsxs)("button",{type:"button",className:"inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2",onClick:r,children:[(0,s.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})})]})}):null}}},function(e){e.O(0,[136,971,117,744],function(){return e(e.s=5914)}),_N_E=e.O()}]);