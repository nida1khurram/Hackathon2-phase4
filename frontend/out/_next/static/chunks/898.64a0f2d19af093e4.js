"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{6898:function(t,e,o){o.d(e,{authAPI:function(){return r}});let a="http://localhost:8001";class n{async register(t){let e=await fetch("".concat(a,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let t=e.headers.get("content-type");if(t&&t.includes("application/json"))throw Error((await e.json()).detail||"Registration failed");{let t=await e.text();throw Error("Registration failed: ".concat(e.status," ").concat(e.statusText,". Details: ").concat(t))}}return e.json()}async login(t){let e=await fetch("".concat(a,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let t=e.headers.get("content-type");if(t&&t.includes("application/json"))throw Error((await e.json()).detail||"Login failed");{let t=await e.text();throw Error("Login failed: ".concat(e.status," ").concat(e.statusText,". Details: ").concat(t))}}return e.json()}getToken(){return localStorage.getItem("auth_token")}getAuthToken(){return localStorage.getItem("auth_token")}isAuthenticated(){return!!localStorage.getItem("auth_token")}async logout(){try{let t=localStorage.getItem("auth_token");t&&await fetch("".concat(a,"/auth/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})}catch(t){console.error("Logout error (ignored):",t)}finally{localStorage.removeItem("auth_token")}}}let r=new n}}]);